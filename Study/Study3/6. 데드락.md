# 프로세스 스케줄링(Process Scheduling)

운영체제(OS)에서 **프로세스 스케줄링**이란, 여러 프로세스가 CPU를 공유할 수 있도록 **CPU 자원을 어떤 순서로 할당할지 결정하는 메커니즘**이다. 스케줄러는 여러 프로세스 중에서 어떤 프로세스를 선택해 CPU에 할당할지 결정한다.

---

## 1. 스케줄링의 필요성

- CPU는 동시에 하나의 프로세스만 실행 가능 (단일 코어 기준)
- 다중 프로세스 환경에서 **효율적인 자원 활용과 응답 시간 단축**을 위해 스케줄링 필요
- 응용 프로그램의 요구사항과 시스템 자원의 상태를 고려하여 **공정성과 성능의 균형**을 유지해야 함

---

## 2. 스케줄링의 종류

### 1) 선점형(Preemptive)

- 현재 실행 중인 프로세스보다 **우선순위가 높은 프로세스가 도착하면 CPU를 양보**
- 실시간 시스템이나 사용자 응답이 중요한 환경에서 사용
- 예: Round Robin, SRTF(Shortest Remaining Time First), Priority Scheduling(선점형)

### 2) 비선점형(Non-Preemptive)

- **현재 프로세스가 종료되거나 블로킹될 때까지 CPU 점유 유지**
- 예측 가능한 실행 흐름을 제공하나 응답 시간이 느릴 수 있음
- 예: FCFS(First Come First Served), SJF(Shortest Job First, 비선점형)

---

## 3. 스케줄러(Scheduler)의 종류

| 종류 | 설명 |
|------|------|
| 장기 스케줄러 (Long-term) | 어떤 프로세스를 Ready Queue에 넣을지 결정 (Job Scheduling) |
| 단기 스케줄러 (Short-term) | 어떤 프로세스를 CPU에 할당할지 결정 (CPU Scheduling) |
| 중기 스케줄러 (Medium-term) | 프로세스를 메모리에서 Swap Out/Swap In (메모리 관리 목적) |

---

## 4. 주요 스케줄링 알고리즘

### FCFS (First Come, First Served)

- 도착 순서대로 실행
- **공정하나 평균 대기시간이 김 (Convoy Effect)**

### SJF (Shortest Job First)

- 실행 시간이 가장 짧은 프로세스 우선
- **최적의 평균 대기 시간 제공 (비선점형)**
- 단점: 실행 시간 예측 어려움

### SRTF (Shortest Remaining Time First)

- SJF의 선점형 버전
- 실행 시간 남은 것이 가장 짧은 프로세스 우선

### Priority Scheduling

- 우선순위가 높은 프로세스 먼저 실행
- 선점형 또는 비선점형 모두 가능
- 단점: **기아 상태(Starvation)** 가능 → Aging 기법으로 해결

### Round Robin (RR)

- 시간 할당량(Time Quantum) 단위로 순차적 실행
- **선점형 방식**, 응답 시간 개선
- 타임 퀀텀 설정이 중요: 너무 짧으면 문맥 전환 오버헤드 증가

### Multi-Level Queue

- 프로세스 우선순위에 따라 여러 개의 큐로 분리
- 큐 간 이동 불가 (고정)

### Multi-Level Feedback Queue

- **프로세스의 특성에 따라 큐 이동 가능**
- 짧은 작업은 빠르게 처리, 긴 작업은 점진적으로 처리

---

## 5. 성능 평가 지표

| 지표 | 설명 |
|------|------|
| CPU 사용률 (CPU Utilization) | CPU가 작업을 수행한 시간의 비율 |
| 처리량 (Throughput) | 단위 시간당 완료된 프로세스 수 |
| 대기 시간 (Waiting Time) | Ready Queue에 대기한 총 시간 |
| 응답 시간 (Response Time) | 요청 후 첫 번째 응답까지 걸린 시간 |
| 반환 시간 (Turnaround Time) | 프로세스 종료까지 걸린 전체 시간 |

---

## 6. 스케줄링 예시

예시 프로세스:

| 프로세스 | 도착 시간 | 실행 시간 |
|----------|-----------|------------|
| P1       | 0         | 5          |
| P2       | 2         | 3          |
| P3       | 4         | 1          |

스케줄링 알고리즘에 따라 다음과 같은 간트 차트 결과 도출:

- **FCFS**: P1 → P2 → P3
- **SJF**: P1 → P3 → P2
- **RR(Quantum=2)**: P1(2) → P2(2) → P1(2) → P3(1) → P2(1) → P1(1)

---
