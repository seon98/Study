# 프로세스 간 통신 (IPC, Inter-Process Communication)

## 1. 개요

운영체제에서 프로세스 간 통신(IPC: Inter-Process Communication)이란, 서로 독립적인 프로세스들이 데이터를 주고받으며 협업하는 방식이다. 현대 시스템에서는 하나의 작업을 여러 프로세스가 나눠 수행하기 때문에 IPC는 필수적인 기능이다.

## 2. IPC가 필요한 이유

- 병렬 처리 및 작업 분담
- 생산자-소비자 모델 구현
- 프로세스 간 데이터 공유
- 동기화 및 상호 배제

## 3. IPC의 분류

### 1) 메모리 기반 (Memory-based)

공유 메모리 영역을 통해 데이터를 주고받는다.

### 2) 메시지 기반 (Message-based)

운영체제를 통해 메시지를 전달하여 통신한다.

## 4. 주요 IPC 방식

### 1) 파이프 (Pipe)

- 단방향 통신
- 한 프로세스가 쓰면 다른 프로세스가 읽는 구조
- 부모-자식 프로세스 간에 자주 사용됨

**특징**

- 유닉스/Linux에서 `|`로 표현
- 익명 파이프: 동일 프로세스 그룹 내 사용
- 명명된 파이프 (Named Pipe, FIFO): 독립된 프로세스 간 사용 가능

---

### 2) 메시지 큐 (Message Queue)

- 운영체제가 제공하는 메시지 저장소를 통해 통신
- 메시지를 식별하는 ID 사용

**특징**

- 메시지를 큐에 보내고 받는 방식
- 우선순위 지정 가능
- 비동기식 통신 지원

---

### 3) 공유 메모리 (Shared Memory)

- 여러 프로세스가 공통 메모리 공간을 공유하여 통신
- 가장 빠른 IPC 방식 중 하나

**특징**

- 동기화가 필요 (세마포어 등과 병행 사용)
- 대용량 데이터 처리에 유리

---

### 4) 소켓 (Socket)

- 네트워크를 통해 통신하는 방식
- 로컬 또는 원격 프로세스 간 통신 지원

**특징**

- TCP/UDP 프로토콜 기반
- 클라이언트-서버 모델에 적합
- 웹 서버, 채팅 앱 등에 필수

---

### 5) 세마포어 (Semaphore)

- 동기화 목적의 IPC 방식
- 카운터를 통해 접근 제어

**특징**

- 공유 자원의 동시 접근을 제어 (상호 배제, 뮤텍스와 유사)
- 일반적으로 다른 IPC 방식과 함께 사용됨

---

## 5. IPC 비교 표

| 방식           | 데이터 공유 | 동기화 필요 | 통신 방향  | 용도                        |
|----------------|--------------|---------------|-------------|-----------------------------|
| 파이프         | 아니오       | 아니오        | 단방향      | 간단한 통신                 |
| 메시지 큐      | 예           | 아니오        | 양방향 가능 | 프로세스 간 메시지 교환     |
| 공유 메모리    | 예           | 예            | 양방향      | 대용량, 고속 통신           |
| 소켓           | 예           | 예            | 양방향      | 네트워크 기반 통신          |
| 세마포어       | 아니오       | 예            | 없음        | 동기화, 자원 접근 제어      |

---

## 6. 파이썬 예제 (파이프)

```python
from multiprocessing import Process, Pipe

def worker(conn):
    conn.send("자식 프로세스 메시지")
    conn.close()

if __name__ == '__main__':
    parent_conn, child_conn = Pipe()
    p = Process(target=worker, args=(child_conn,))
    p.start()
    print(parent_conn.recv())  # 자식으로부터 메시지 수신
    p.join()

