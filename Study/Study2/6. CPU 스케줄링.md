# CPU 스케줄링 (CPU Scheduling)

운영체제는 한정된 CPU 자원을 효율적으로 활용하기 위해 **스케줄링 알고리즘**을 사용한다.
CPU 스케줄링은 Ready 상태의 프로세스 중 하나를 선택하여 **CPU를 할당**하는 과정이다.

---

## 스케줄러(Scheduler) 종류

| 스케줄러 종류 | 설명 |
|---------------|------|
| **장기 스케줄러 (Long-term)** | 어떤 프로세스를 메모리에 올릴지 결정 (입·출력 비율 조절) |
| **단기 스케줄러 (Short-term)** | 어떤 Ready 프로세스에 CPU를 줄지 결정 (**=CPU 스케줄러**) |
| **중기 스케줄러 (Medium-term)** | 프로세스를 일시 중단(Suspend)하거나 재개(Resume) |

---

## 스케줄링 시점 (디스패치 시점)

- 프로세스가 종료될 때
- 프로세스가 I/O 요청으로 Blocked 상태가 될 때
- 타이머 인터럽트가 발생할 때 (Time Slice 종료)
- 고우선 순위 프로세스가 Ready 상태가 될 때

---

## CPU 스케줄링 기준

| 기준 | 설명 |
|------|------|
| **CPU 이용률(CPU Utilization)** | CPU가 실제 작업에 사용된 시간 비율 |
| **처리량(Throughput)** | 단위 시간당 완료된 프로세스 수 |
| **턴어라운드 시간** | 프로세스 제출부터 종료까지 걸린 전체 시간 |
| **대기 시간** | Ready Queue에서 기다린 시간 |
| **응답 시간** | 요청 이후 최초 응답까지 걸린 시간 |

---

## 주요 CPU 스케줄링 알고리즘

### 1. FCFS (First-Come First-Served)

- 먼저 도착한 프로세스부터 실행
- **비선점형(Non-Preemptive)**

> 🔻 단점: 평균 대기 시간 ↑, Convoy 현상 발생 가능

---

### 2. SJF (Shortest Job First)

- 실행 시간이 가장 짧은 프로세스를 우선 실행
- **비선점형 또는 선점형(SRTF: Shortest Remaining Time First)**으로 구현 가능

> 🔺 평균 대기 시간 최소화
> ❌ 실행 시간 예측이 어려움

---

### 3. Priority Scheduling

- 우선순위가 높은 프로세스에 CPU를 먼저 할당
- **선점형/비선점형 가능**
- 낮은 우선순위 프로세스가 무한 대기 → **기아(Starvation)** 발생 가능

> 해결 방법: **Aging 기법**으로 우선순위 점진 증가

---

### 4. Round Robin (RR)

- 각 프로세스에 **시간 할당량(Time Quantum)**을 주고 순차적으로 실행
- **선점형 알고리즘의 대표**

> 🌀 타임 슬라이스가 너무 작으면: 오버헤드 증가
> 🌀 너무 크면 FCFS와 유사해짐

---

### 5. Multilevel Queue (MLQ)

- Ready Queue를 **우선순위 그룹별로 다단계 분리**
- 각 큐마다 다른 스케줄링 정책 사용 가능 (예: 상위 RR, 하위 FCFS)

---

### 6. Multilevel Feedback Queue (MLFQ)

- 프로세스의 실행 시간/행동에 따라 큐를 **동적으로 이동**
- **다단계 + 피드백 + Aging** 포함
- Linux 등 현대 운영체제에서 주로 채택

---

## 예시 - 스케줄링 비교

```plaintext
프로세스 | 도착시간 | 실행시간
--------|----------|---------
P1      |    0     |    5
P2      |    1     |    3
P3      |    2     |    8
